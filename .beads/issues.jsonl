{"id":"VAULT-0ei","title":"Preserve VaultView state when returning from settings","description":"VaultView.swift:220-225 clears all files and shows spinner when settings sheet dismissed. Resets scroll position and search state. Should only reload if data actually changed.","status":"closed","priority":2,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T15:10:24.14638-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:21:16.005821-08:00","closed_at":"2026-02-01T15:21:16.005821-08:00","close_reason":"Removed destructive files=[] and isLoading=true when settings sheet dismisses. Now calls loadFiles() and checkSharedVaultStatus() without clearing state, preserving scroll position and search text."}
{"id":"VAULT-4bd","title":"Replace full-screen blocking spinner with skeleton view","description":"VaultView.swift:128-129 shows ProgressView('Loading vault...') blocking the entire view. Replace with skeleton grid cells using .redacted(reason: .placeholder) matching PhotosGridView 3-column layout.","status":"closed","priority":1,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T15:10:14.564613-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:16:55.607803-08:00","closed_at":"2026-02-01T15:16:55.607803-08:00","close_reason":"Replaced ProgressView('Loading vault...') blocking spinner with a 3-column skeleton grid of 12 placeholder tiles using .redacted(reason: .placeholder). Matches PhotosGridView layout so transition is seamless."}
{"id":"VAULT-6mj","title":"Add Reduce Motion support","description":"WelcomeView pulsating animation runs .repeatForever() without checking accessibilityReduceMotion. Spring animations on PatternLockView error also ignore preference. Affects WelcomeView.swift:24, ContentView.swift:19-21, PatternLockView.swift:83.","status":"closed","priority":0,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T15:10:09.570742-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:14:33.058783-08:00","closed_at":"2026-02-01T15:14:33.058783-08:00","close_reason":"Added @Environment accessibilityReduceMotion checks to: WelcomeView pulsating animation, ContentView state transitions, PatternLockView error spring animation, FullScreenPhotoViewer drag-to-dismiss spring, OnboardingView step transitions. All decorative animations now disabled when Reduce Motion is on."}
{"id":"VAULT-9hn","title":"Remove double encryption layer in share upload","description":"Files are encrypted per-file with shareKey at BackgroundShareTransferManager:90, then the entire JSON blob is encrypted again with the same shareKey at CloudKitSharingManager:131. The outer encryption adds latency and ~28 bytes overhead per AES-GCM seal. Remove the outer encryption or the per-file encryption â€” not both.","status":"closed","priority":2,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T16:40:28.481677-08:00","created_by":"ehmo","updated_at":"2026-02-01T16:43:54.002105-08:00","closed_at":"2026-02-01T16:43:54.002105-08:00","close_reason":"Removed outer AES-GCM encryption in uploadSharedVault and syncSharedVault (files already individually encrypted). Bumped manifest version to 2. Download paths handle both v1 (outer decrypt) and v2 (raw passthrough) for backward compat."}
{"id":"VAULT-axv","title":"Add interactiveDismissDisabled to multi-step sheet flows","description":"ChangePatternView, RecoveryPhraseInputView can be accidentally dismissed by swiping down mid-flow. Add .interactiveDismissDisabled() when user is partway through multi-step process.","status":"closed","priority":2,"issue_type":"task","owner":"r@turek.co","created_at":"2026-02-01T15:10:20.675958-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:19:39.355315-08:00","closed_at":"2026-02-01T15:19:39.355315-08:00","close_reason":"Added .interactiveDismissDisabled() to ChangePatternView, CustomRecoveryPhraseInputView, and RecoveryPhraseInputView sheets. All have explicit Cancel/Done buttons, preventing accidental swipe-dismiss during multi-step flows."}
{"id":"VAULT-bas","title":"Reduce artificial unlock delay floor","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-29T14:08:41.076025-08:00","created_by":"ehmo","updated_at":"2026-01-29T14:10:23.066656-08:00","closed_at":"2026-01-29T14:10:23.066656-08:00","close_reason":"Closed"}
{"id":"VAULT-bzt","title":"Move listFiles + thumbnail decrypt off Main Actor","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T14:08:40.684842-08:00","created_by":"ehmo","updated_at":"2026-01-29T14:09:43.214355-08:00","closed_at":"2026-01-29T14:09:43.214355-08:00","close_reason":"Closed"}
{"id":"VAULT-czs","title":"Eliminate redundant index+key derivation in share upload loop","description":"BackgroundShareTransferManager:89 calls retrieveFile(id:with:) per file, which internally calls loadIndex()+getMasterKey() each time. The index and masterKey are already available at lines 81-82. Add a VaultStorage method to retrieve file content with pre-loaded index and masterKey.","status":"closed","priority":1,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T16:40:23.51007-08:00","created_by":"ehmo","updated_at":"2026-02-01T16:41:19.426369-08:00","closed_at":"2026-02-01T16:41:19.426369-08:00","close_reason":"Added retrieveFileContent(entry:index:masterKey:) to VaultStorage. Upload loop now reuses pre-loaded index and masterKey instead of re-deriving per file. Eliminates N redundant loadIndex+PBKDF2 calls."}
{"id":"VAULT-egh","title":"Add error feedback when pattern confirmation fails","description":"PatternSetupView.swift:374-379 silently resets when patterns don't match during onboarding confirm step. No text error, no shake, no feedback. Compare to PatternLockView which does show error message.","status":"closed","priority":2,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T15:10:19.667722-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:18:59.251148-08:00","closed_at":"2026-02-01T15:18:59.251148-08:00","close_reason":"Added visible error message ('Patterns don't match. Try again.') with icon when pattern confirmation fails in PatternSetupView. Auto-clears after 2.5s. Pairs with existing haptic error feedback."}
{"id":"VAULT-iky","title":"Pre-decode UIImage thumbnails off main thread","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T14:08:40.882358-08:00","created_by":"ehmo","updated_at":"2026-01-29T14:09:43.359351-08:00","closed_at":"2026-01-29T14:09:43.359351-08:00","close_reason":"Closed"}
{"id":"VAULT-iym","title":"Replace custom header bars with NavigationStack toolbar","description":"ChangePatternView, RecoveryPhraseInputView, CustomRecoveryPhraseInputView build custom HStack headers instead of NavigationStack with .toolbar. Breaks iOS patterns, no blur/scroll behavior.","status":"closed","priority":2,"issue_type":"task","owner":"r@turek.co","created_at":"2026-02-01T15:10:22.218731-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:20:45.51791-08:00","closed_at":"2026-02-01T15:20:45.51791-08:00","close_reason":"Replaced custom HStack header bars with NavigationStack + .toolbar in: RecoveryPhraseInputView, ChangePatternView, CustomRecoveryPhraseInputView, and RecoveryPhraseView. All now use standard .navigationTitle/.navigationBarTitleDisplayMode(.inline) with .cancellationAction or .confirmationAction toolbar items."}
{"id":"VAULT-kqn","title":"Eagerly init VaultStorage singleton at launch","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-29T14:08:41.173201-08:00","created_by":"ehmo","updated_at":"2026-01-29T14:10:38.13767-08:00","closed_at":"2026-01-29T14:10:38.13767-08:00","close_reason":"Closed"}
{"id":"VAULT-l71","title":"Ensure PBKDF2 runs off Main Actor","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T14:08:40.978949-08:00","created_by":"ehmo","updated_at":"2026-01-29T14:09:59.090786-08:00","closed_at":"2026-01-29T14:09:59.090786-08:00","close_reason":"Closed"}
{"id":"VAULT-mjp","title":"Parallelize file re-encryption in share upload","description":"BackgroundShareTransferManager:87-112 processes files sequentially. Use withTaskGroup to parallelize file reads + re-encryption, then collect results in order. Keep progress reporting per-file.","status":"closed","priority":2,"issue_type":"task","owner":"r@turek.co","created_at":"2026-02-01T16:40:25.344386-08:00","created_by":"ehmo","updated_at":"2026-02-01T16:42:26.737414-08:00","closed_at":"2026-02-01T16:42:26.737414-08:00","close_reason":"Replaced sequential for-loop with withThrowingTaskGroup for concurrent file read+re-encrypt. Results collected and sorted by original index for deterministic output."}
{"id":"VAULT-ngi","title":"Add accessibility labels to all interactive elements","description":"Zero accessibilityLabel/Hint/Value modifiers in entire codebase. Icon-only buttons read SF Symbol names. Pattern grid unusable with VoiceOver. Progress indicators convey nothing to screen readers.","status":"closed","priority":0,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T15:10:08.419435-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:12:37.070398-08:00","closed_at":"2026-02-01T15:12:37.070398-08:00","close_reason":"Added accessibility labels to: VaultView toolbar buttons (settings, lock), shared vault update button, add files button, photo grid items, file grid items, pattern lock view (decorative icon hidden, recovery/join hints), pattern grid (label, hint, value), onboarding progress indicators, camera controls (flash, capture, flip), full screen viewer actions button, change pattern progress indicator, recovery phrase reveal button, empty state decorative icon hidden, feature row combined elements"}
{"id":"VAULT-q98","title":"Eliminate duplicate loadIndex on vault appear","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T14:08:40.785016-08:00","created_by":"ehmo","updated_at":"2026-01-29T14:09:43.286013-08:00","closed_at":"2026-01-29T14:09:43.286013-08:00","close_reason":"Closed"}
{"id":"VAULT-qgz","title":"Add haptic feedback to pattern grid and key interactions","description":"Zero haptic feedback anywhere. Pattern grid needs UISelectionFeedbackGenerator on dot hit, UINotificationFeedbackGenerator on unlock success/failure. Also needed on destructive confirmations.","status":"closed","priority":0,"issue_type":"feature","owner":"r@turek.co","created_at":"2026-02-01T15:10:11.154445-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:15:57.661586-08:00","closed_at":"2026-02-01T15:15:57.661586-08:00","close_reason":"Added haptic feedback: UISelectionFeedbackGenerator on each dot hit in PatternGridView, UINotificationFeedbackGenerator(.warning) on pattern too short, (.error) on unlock fail, (.success) on unlock success in PatternLockView, (.success) on valid pattern and match in PatternSetupView, (.error) on pattern mismatch in PatternSetupView."}
{"id":"VAULT-s9o","title":"Increase pattern grid node touch targets to 44pt","description":"PatternGridView.swift nodeRadius is 16pt (32pt diameter), below 44pt HIG minimum. Visual nodes hard to target on iPhone SE. Also PatternLockView bottom buttons (recovery phrase, join shared vault) are small text-only buttons with no explicit frame.","status":"closed","priority":1,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T15:10:16.128013-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:17:37.445604-08:00","closed_at":"2026-02-01T15:17:37.445604-08:00","close_reason":"Increased pattern grid hit area to max(nodeRadius*1.5, 22pt) ensuring 44pt minimum diameter. Added minHeight: 44 to 'Use recovery phrase' and 'Join shared vault' buttons on lock screen."}
{"id":"VAULT-v8o","title":"Add Dark Mode variant for VaultHighlight color","description":"VaultHighlight (#E45858 coral red) has no dark appearance variant. All other custom colors have dark variants. Used extensively for errors/warnings/destructive actions. May have poor contrast in Dark Mode.","status":"closed","priority":1,"issue_type":"bug","owner":"r@turek.co","created_at":"2026-02-01T15:10:12.581931-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:16:23.36766-08:00","closed_at":"2026-02-01T15:16:23.36766-08:00","close_reason":"Added dark appearance variant for VaultHighlight: light=#E45858 (coral red), dark=#FF6F6F (brighter coral) for better contrast against dark backgrounds. Now consistent with all other custom colors having both variants."}
{"id":"VAULT-zgs","title":"Set large title display mode on root VaultView","description":"VaultView uses .navigationTitle(appState.vaultName) but doesn't specify .navigationBarTitleDisplayMode(.large). HIG requires large titles on primary/root views.","status":"closed","priority":1,"issue_type":"task","owner":"r@turek.co","created_at":"2026-02-01T15:10:17.70364-08:00","created_by":"ehmo","updated_at":"2026-02-01T15:18:05.834054-08:00","closed_at":"2026-02-01T15:18:05.834054-08:00","close_reason":"Added .navigationBarTitleDisplayMode(.large) to VaultView. Root view now shows large title per HIG Rule 2.3, transitioning to inline on scroll."}
