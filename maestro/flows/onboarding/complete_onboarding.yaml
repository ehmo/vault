appId: app.vaultaire.ios
---
# Full onboarding happy path
# Note: Pattern drawing via Maestro swipe is best-effort — the PatternGridView
# uses a custom DragGesture that may not register Maestro's synthetic swipes.
# This flow validates navigation through all onboarding screens.
- launchApp:
    clearState: true

# Dismiss system alerts
- tapOn:
    text: "Not Now"
    optional: true
- tapOn:
    text: "Not Now"
    optional: true

# Welcome screen
- assertVisible: "Welcome to Vaultaire"
- tapOn:
    id: "welcome_continue"

# Analytics consent
- assertVisible: "Help Improve Vaultaire"
- tapOn:
    id: "analytics_decline"

# Paywall — skip
- tapOn:
    id: "paywall_skip"
    optional: true

# Pattern setup — attempt to draw a 6-dot pattern
# Grid is 5x5 in a ~280x280 area. Swipe across top row to register dots.
- assertVisible:
    id: "pattern_grid"
- swipe:
    start: "10%, 35%"
    end: "90%, 35%"
    duration: 1500
    optional: true

# Wait for pattern to register
- waitForAnimationToEnd:
    timeout: 1000

# Confirm pattern — draw same pattern
- swipe:
    start: "10%, 35%"
    end: "90%, 35%"
    duration: 1500
    optional: true

# Recovery phrase screen
- tapOn:
    id: "recovery_saved"
    optional: true

# Confirm saving recovery phrase
- tapOn:
    text: "I've Saved It"
    optional: true

# All set screen
- tapOn:
    id: "onboarding_complete"
    optional: true
