appId: app.vaultaire.ios
---
# Import a photo from the photo library
- runFlow: ../helpers/launch_test_mode.yaml

# Add test media to simulator photo library
- addMedia:
    - test-photo.jpg

# Open import options from either non-empty or empty vault state
- tapOn:
    id: "vault_add_button"
    optional: true
- tapOn:
    id: "vault_first_files"
    optional: true

# Confirmation dialog appears â€” choose "Import from Library"
- tapOn:
    text: "Import from Library"
    optional: true

# System photo picker appears.
# Select a media tile, confirm with top-right checkmark, then verify vault exits empty state.
- waitForAnimationToEnd
- tapOn:
    point: "12%,50%"
- waitForAnimationToEnd
- tapOn:
    point: "90%,11%"
- waitForAnimationToEnd
- assertVisible:
    id: "vault_add_button"
- assertNotVisible:
    id: "vault_first_files"
