appId: app.vaultaire.ios
---
# Test change pattern flow
- runFlow: ../helpers/launch_test_mode.yaml

- tapOn:
    id: "vault_settings_button"
- tapOn:
    id: "settings_change_pattern"

# Change pattern view should appear
# Pattern drawing requires coordinate-based swipe gestures
# In test mode, the flow opens but pattern drawing is simulator-dependent
- assertVisible: "Change Pattern"
- assertVisible: "Verify Current Pattern"

# Deterministic test hook for Maestro
- assertVisible:
    id: "change_pattern_test_skip_verify"
- tapOn:
    id: "change_pattern_test_skip_verify"

- waitForAnimationToEnd:
    timeout: 1000

# Create step should appear
- assertVisible:
    text: "Create New Pattern"
